<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      class tes {
        constructor(nama, kelas) {
          this.nama = nama;
          this.kelas = kelas;
          this.sayHalo = function () {
            console.log(
              `Halo, saya ${this.nama} dari kelas ${this.kelas} = ${this}`
            );
            console.log(this); //Object { nama: "rafa", kelas: "10", sayHalo: sayHalo() }
          };
        }
      }

      const rafa = new tes("rafa", "10");
      class tes2 {
        constructor(nama, kelas) {
          this.nama = nama;
          this.kelas = kelas;
          this.sayHalo = () => { // ini kenapa thisnya mengacu ke objek ?, karena di class ini fungsinya kita taro di objek instancenya . INEGET
            // sama aja
            console.log(
              `Halo, saya ${this.nama} dari kelas ${this.kelas} = ${this}`
            );
            console.log(this); //Object { nama: "rafa", kelas: "10", sayHalo: sayHalo() }
          };
        }
      }

      // jadi ini akan bolak balik, jadi ketika kita akses arrow function di dalam constructor, maka this didalam arrow function itu akan merujuk kedalam si lexical scopenya yaitu si constructornya, nah tapi di constructornya ini juga akan merujuk ke objek instancenya. gitu

      // ini penjelasannya
      /* 
            Kenapa this di sayHalo merujuk ke objek instance?
    Karena arrow function mengambil this dari lexical scope-nya (constructor), dan this di constructor merujuk ke objek instance.

    Di mana lexical scope untuk objek instance?
    Lexical scope-nya adalah constructor tes2, dan this di constructor adalah objek instance.
      */


      class tes42 {
        constructor(nama, kelas) {
          this.nama = nama;
          this.kelas = kelas;
          this.sayHalo = () => { // ini kenapa thisnya mengacu ke objek ?, karena di class ini fungsinya kita taro di objek instancenya . INEGET (liat dulu sampe bawah)
            // sama aja
            console.log(
              `Halo, saya ${this.nama} dari kelas ${this.kelas} = ${this}`
            );
            console.log(this); //Object { nama: "rafa", kelas: "10", sayHalo: sayHalo() }
          };
        }
      }
      
      const rafa2 = new tes42("rafa", "10");
      const rafa21 = new tes2("rafa", "10");
      
      
      function Tes(nama, kelas){
        this.nama = nama;
        this.kelas = kelas;
      }
      
      Tes.prototype.sayHello = () => {
        console.log(`hal0 ${this.nama} dari kelas ${this.kelas}`);
        console.log(this) // ini yg keluar itu objek window
      }

      const rafa12 = new Tes("rafa", "10");
      // in malah undefined
      // hal0 undefined dari kelas undefined
      
        
      
      
      
      class tes3 {
        constructor(nama, kelas) {
          this.nama = nama;
          this.kelas = kelas;
        }
        sayHalo = function () { // sama
          console.log(
            `Halo, saya ${this.nama} dari kelas ${this.kelas} = ${this}`
          );
          console.log(this); //Object { nama: "rafa", kelas: "10", sayHalo: sayHalo() }
        };
      }

      const rafa3 = new tes3("rafa", "10");

      const nih = {
        nama:"rafa",
        sayhalo: function(){ //Object { nama: "rafa", sayhalo: sayhalo() }
            console.log(this)
        }
      }

      
      const nih2 = {
        nama:"rafa",
        sayhalo: () => { //Window http://127.0.0.1:5500/JAVA_SCRIPT_2025/LATIHAN/12.tes_arrow.html
            console.log(this)
        }
      }






      class tes4 {
        constructor(nama, kelas) {
          this.nama = nama;
          this.kelas = kelas;
        }
        sayHalo = () => {// sama
          // sama aja
          console.log(
            `Halo, saya ${this.nama} dari kelas ${this.kelas} = ${this}`
          );
          console.log(this); //Object { nama: "rafa", kelas: "10", sayHalo: sayHalo() }
        };
      }

      const rafa4 = new tes4("rafa", "10");

      // gini ges kenapa yang ini tuh malah ke objek padalah kamu tau sebelumnya kalo di method itu akan otomatis masuk ke prototypenya, tpai kenapa ini langusng asuk ke dalam instance objeknya ?, karena
      // FUNGSI SAYHALO DISINI ITU TIDAK MENGGUNAAKN METODE CLASS YANG KALO PAKE METODE CLASS NYA MAKA METHOD INI AKAN OTOMATIS MASUK KE PROTOTYPENYA BUKAN DI INSTANCE OBJEKYA, NAH METODENYA ITU GINI SAYHALO() {} , NAH JADI LANGUNG AJA TANPA ARROW FUNCTION ATAU GIMANA

      class tes5 {
        constructor(nama, kelas) {
          this.nama = nama;
          this.kelas = kelas;
        }
        sayHalo(){ // nah ini bakal masuk ke prototypenya

          console.log(
            `Halo, saya ${this.nama} dari kelas ${this.kelas} = ${this}`
          );
          console.log(this);
        };
      }
      const rafa5 = new tes5("rafa", "10");


      // PENTING
      // berati kesimpulannya kalo clas itu kalo kita buat method langsung di constructornay kan otomatis bakal masuk ke instance objeknya, tapi kao kita buat method diluar constructornya tapi kita buat methodnya itu pake function expresion atau pake arrow function maka ini method tersebut akan masuk objek instancenya bukan di prototypenya, tapi kalo kita pake method tapi buatnya itu gini namaMethod(){} mka ini akan langung masuk ke prototypenya, dan thisnya akan tetap bisa diakses oleh si objek instancenya,


      // dan bedanya dengan function constructor itu kalo di sana itu kalo pake function tanda this, dan tanpa prototype, mak functionnya akan langsung di hoisting dan menjadi function di dalam objek windoq

      </script>
    </body>
  </html>
