<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>

    <center>
        <button class="timeout">Berhenti setTimeout</button>
        <button class="interval">Berhenti setInterval</button>
    </center>


    <script>
      // setInterval dan setTimeout adalah fungsi yang digunakan untuk menjalankan kode setelah jeda waktu tertentu. Namun, ada perbedaan penting antara keduanya:

      // setInterval: Menjalankan fungsi berulang kali dengan interval waktu tertentu. Fungsi akan terus dipanggil setiap interval waktu yang ditentukan sampai dihentikan dengan clearInterval.

      // setTimeout: Menjalankan fungsi sekali setelah jeda waktu tertentu. Fungsi hanya akan dipanggil satu kali setelah waktu yang ditentukan. Setelah itu, jika ingin menjalankannya lagi, kita perlu memanggil setTimeout lagi.

      // Contoh penggunaan setInterval dan setTimeout:
      // contoh dari ai
      {
        let count = 0;

        const intervalId = setInterval(() => {
          console.log(`Count: ${count}`); // Output: Count: 0, Count: 1, Count: 2, ...

          count++;

          if (count === 5) {
            // Hentikan interval setelah 5 kali panggilan

            clearInterval(intervalId); // Menghentikan interval
            
            console.log("Interval dihentikan"); // Output: Interval dihentikan
          }
        }, 1000); // Setiap 1 detik (1000 ms)
      }
      
      

    // jadi kedua metohd ini meupakan fungsi global yang ada di window, jadi kita bisa menggunakannya di dalam fungsi lain, dan kita bisa menggunakan clearTimeout dan clearInterval untuk menghentikan fungsi ini  
    // window.setTimeout dan window.setInterval adalah sama, jadi kita bisa menggunakan setTimeout dan setInterval tanpa window.

    
    // settimeout
    {
    // 1. cara kesatu setTomeout jadi in adalah sebuah fungsi yang akan mnegeksekusi atua menjalankan program kita setelah kita menunggu beberapa waktu, sesuai dengna parameter yang kita masukan 

    function tampilPesan() {
        console.log("Hello, World!");
    }

    // tampilPesan() // hello world
    // nah disini kita bisa menuliskan pesannya dnegan menungu dulu beberapa saat dengan cara menggunakan setTimeout

    setTimeout(tampilPesan,2000) //paramter pertama itu fungsi yang ingin dijalankan, paramter kedua itu waktu tungunya

    // jadi kita akan menungg dulu selama 2 detik kemudian baru nanti akan menampilkan pesan hello world, dan fungsi ini berjalan secara asy jadi fungsi yang lain akan tetap berjalan meski fungsi setTimeout belum selesai dieksekusi

    // cara kedua
    setTimeout(() => { // kita juga bisa mamsukan fungsi tanpa nama menggunakan arrow function
        console.log("anjay")
    },2000 ) // disini di paramter keduanya itu waktu tunggu


    // dan fungsi setTimeout ini juga bisa kita berhentikan di tengah tengah, jadi misalnya user menunggu selama 5 detik baru kemudian fungsi tanpa namanya dieksekusi, tapi kita bisa lakukan sesuatu agar fungsi tanpa nama ini tidak jadi dijalankan, caranya
  
    // const test = setTimeout(() => {
    //     console.log("gesss")
        
    //     // PENTING NIH
    //     // pada contoh ini, program ini akan langung dijalankan meskipun variablenya tidak dijalankan
    // }, 1000);


    const test = setTimeout(() => {
        console.log("ini adalah yang bagian setTimeout pake tombol")
    }, 3000)

    const tombolTimeOut = document.querySelector(".timeout")
    tombolTimeOut.addEventListener("click", function() {
        clearTimeout(test); // Menghentikan setTimeout
        console.log("setTimeout dihentikan"); // Output: setTimeout dihentikan

        // jadi nanti ketika kita pencet tombol ini maka ketika fungsi setTimeoutnya berjalan dan sedang menunggu waktu, maka kita sudah memberhentikan waktu tunggu setTimeoutnya dan fungsi didalamnya tidak akan dijalankan

    })


    }


    {

        // 2. setInterval
        
        
        // setInterval = nah jadi fungsinya adalah kita melakukan sesuatu berulang ulang, dengan interval waktu tertentu, jadi gini kita nunggu beberapa detik kemudidan dijalankan lagi, nunggu beberapa detik lalu dijalankan lagi dan seterusnya
        
        setInterval(function() {
            console.log("ini adalah setInterval")
        }, 5000) // jadi ini akan berjalan terus menerus setiap 5 detik sekali, dan kita bisa memberhentikannya dengan cara yang sama seperti diatas, yaitu menggunakan clearInterval

        
    // cara memberhentikannya sama kayak setTimeout
    const test2 = setInterval(function() {
        console.log("ini adalah setInterval lagi")
    }, 10000)
    
    const tombolInterval = document.querySelector(".interval")
    tombolInterval.addEventListener("click", function() {
        clearInterval(test2)
        console.log("setInterval dihentikan"); // Output: setInterval dihentikan
    })

}



    

    </script>
  </body>
</html>
